<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="medium/css/medium-editor.css">
  <link rel="stylesheet" href="medium/css/themes/default.css">
</head>

<body>

  <textarea id="myTextarea" class="editable"></textarea>

  <!-- Medium insert image -->
  <br><button onclick="addImageToTiny('vip-blue.png', 'VIP Linux', '128', '128');">add image</button><br>
  <script>
    function addImageToTiny(thisFile, thisAlt='', h='', w='', thisTitle='') {

      var insertValue = '<img alt="'+thisAlt+'" title="'+thisTitle+'" height="'+h+'" width="'+w+'" src="uploads/'+thisFile+'">';
      var thisTextArea = document.getElementById('myTextarea');

      const start = thisTextArea.selectionStart;
      const end = thisTextArea.selectionEnd;
      const text = thisTextArea.value;
      const before = text.substring(0, start);
      const after  = text.substring(end, text.length);
      thisTextArea.value = (before + insertValue + after);
      thisTextArea.selectionStart = thisTextArea.selectionEnd = start + insertValue.length;
      thisTextArea.focus();
    }
  </script>

  <!-- Medium insert audio -->
  <br><button onclick="addAudioToMedium('audio.mp3', 'audio/mp3');">add audio</button><br>
  <script>
    function addAudioToMedium(thisFile, mimeType='') {
      var insertValue = '<p><audio controls><source src="uploads/'+thisFile+'" type="'+mimeType+'">Not supported.</audio></p>';
      var thisTextArea = document.getElementById('myTextarea');

      const start = thisTextArea.selectionStart;
      const end = thisTextArea.selectionEnd;
      const text = thisTextArea.value;
      const before = text.substring(0, start);
      const after  = text.substring(end, text.length);
      thisTextArea.value = (before + insertValue + after);
      thisTextArea.selectionStart = thisTextArea.selectionEnd = start + insertValue.length;
      thisTextArea.focus();
    }
  </script>

  <!-- Medium insert video -->
  <br><button onclick="addVideoToTiny('video.webm', 'video/webm', '270', '480');">add video</button><br>
  <script>
    function addVideoToTiny(thisFile, mimeType='', h='', w='', poster='') {
      var insertValue = '<p><video height="'+h+'" width="'+w+'" controls><source src="uploads/'+thisFile+'" type="'+mimeType+'">Not supported.</video></p>';
      var thisTextArea = document.getElementById('myTextarea');

      const start = thisTextArea.selectionStart;
      const end = thisTextArea.selectionEnd;
      const text = thisTextArea.value;
      const before = text.substring(0, start);
      const after  = text.substring(end, text.length);
      thisTextArea.value = (before + insertValue + after);
      thisTextArea.selectionStart = thisTextArea.selectionEnd = start + insertValue.length;
      thisTextArea.focus();
    }
  </script>

  <script src="medium/js/medium-editor.js"></script>

  <script>var editor = new MediumEditor('.editable');</script>

</body>
</html>
